<!DOCTYPE html>
<html lang="tr" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Lastik Depo Sistemi{% endblock %}</title>
    <link rel="icon" type="image/png" href="/static/images/Nusretler logo-Photoroom.png">


    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/style.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Active page highlighting */
        .nav-link.active {
            color: #2563eb;
            border-bottom: 2px solid #2563eb;
        }

        /* Dark mode overrides - only when body has .dark-mode */
        body.dark-mode {
            background-color: #0f172a;
            color: #e5e7eb;
        }
        body.dark-mode nav {
            background-color: #0b1220;
            border-color: #1f2937;
        }
        body.dark-mode footer {
            background-color: #0b1220;
            border-color: #1f2937;
            color: #cbd5e1;
        }
        body.dark-mode .nav-link {
            color: #e5e7eb;
        }
        body.dark-mode .nav-link.active {
            color: #93c5fd;
            border-color: #93c5fd;
        }
        body.dark-mode .text-gray-900 { color: #f9fafb !important; }
        body.dark-mode .text-gray-700 { color: #e5e7eb !important; }
        body.dark-mode .text-gray-600 { color: #cbd5e1 !important; }
        body.dark-mode .text-gray-500 { color: #94a3b8 !important; }
        body.dark-mode .bg-white { background-color: #111827 !important; }
        body.dark-mode .bg-gray-50 { background-color: #0f172a !important; }
        body.dark-mode .border-gray-200 { border-color: #1f2937 !important; }
        body.dark-mode .shadow-sm { box-shadow: none !important; }
        body.dark-mode table { color: #e5e7eb; }
        body.dark-mode thead { background-color: #0b1220; }
        body.dark-mode tbody tr:hover { background-color: #111827; }
        body.dark-mode input,
        body.dark-mode select,
        body.dark-mode textarea {
            background-color: #111827;
            border-color: #374151;
            color: #e5e7eb;
        }
        body.dark-mode input::placeholder,
        body.dark-mode textarea::placeholder {
            color: #94a3b8;
        }
        body.dark-mode .bg-blue-600 {
            background-color: #2563eb !important;
            color: #f8fafc !important;
        }
        body.dark-mode .hover\:bg-gray-100:hover {
            background-color: #1f2937 !important;
        }
        body.dark-mode .hover\:text-blue-600:hover {
            color: #93c5fd !important;
        }
        body.dark-mode .bg-gray-200 { background-color: #1f2937 !important; }
        body.dark-mode .bg-gray-100 { background-color: #1f2937 !important; }
        body.dark-mode .border-gray-300 { border-color: #374151 !important; }
        /* Dark Mode: Lastik Ara tablosu hover/selection kapalı, header koyu */
        body.dark-mode .tire-table-row:hover {
            background-color: inherit !important;
            color: inherit !important;
        }
        body.dark-mode .tire-table-row:hover td,
        body.dark-mode .tire-table-row:hover span,
        body.dark-mode .tire-table-row:hover div {
            color: inherit !important;
        }
        body.dark-mode .tire-table-row.selected,
        body.dark-mode .tire-table-row.selected td,
        body.dark-mode .tire-table-row.selected span,
        body.dark-mode .tire-table-row.selected div {
            background-color: inherit !important;
            color: inherit !important;
            box-shadow: none !important;
        }
        body.dark-mode .tire-table-row {
            background-color: #0f172a !important;
        }
        body.dark-mode .tire-table-row td {
            background-color: #0f172a !important;
        }
        body.dark-mode .tire-table-header {
            background-color: #0b1220 !important;
            border-color: #1f2937 !important;
        }
        body.dark-mode .tire-table thead,
        body.dark-mode .tire-table thead tr {
            background-color: #0b1220 !important;
        }
        body.dark-mode .tire-table thead th {
            background-color: #0b1220 !important;
            color: #cbd5e1 !important;
            border-color: #1f2937 !important;
        }
        body.dark-mode .tire-table-container {
            background-color: #0f172a !important;
        }
        body.dark-mode .tire-table {
            background-color: #0f172a !important;
        }
        /* Dark Mode: Lastik Ara - header ve chip renkleri */
        body.dark-mode .tire-table-header th {
            color: #cbd5e1 !important;
            border-color: #1f2937 !important;
        }
        body.dark-mode .tire-results-card {
            background-color: #0b1220 !important;
            border-color: #1f2937 !important;
        }
        body.dark-mode .tire-results-card h2,
        body.dark-mode .tire-results-card span,
        body.dark-mode .tire-results-card .text-gray-900,
        body.dark-mode .tire-results-card .text-gray-500 {
            color: #e5e7eb !important;
        }
        body.dark-mode .brand-chip {
            background-color: #1f2937 !important;
            border-color: #334155 !important;
            color: #e5e7eb !important;
        }
        body.dark-mode .season-chip {
            background-color: #14532d !important;
            border-color: #166534 !important;
            color: #ecfdf3 !important;
        }
        body.dark-mode .status-chip.status-depoda {
            background-color: #064e3b !important;
            border-color: #0f766e !important;
            color: #ecfdf3 !important;
        }
        body.dark-mode .status-chip.status-other {
            background-color: #1d4ed8 !important;
            border-color: #1e3a8a !important;
            color: #e0f2fe !important;
        }
        /* Toggle button */
        #dark-mode-toggle .icon-sun,
        #dark-mode-toggle .icon-moon {
            width: 18px;
            height: 18px;
        }
        body.dark-mode #dark-mode-toggle {
            color: #e5e7eb;
        }
    </style>
    {% block extra_head %}{% endblock %}
</head>
<body class="bg-gray-50 min-h-screen flex flex-col">
    <!-- Top Navigation Bar -->
    <nav class="bg-white border-b border-gray-200 shadow-sm">
        <div class="max-w-7xl mx-auto px-6 lg:px-8">
          <div class="flex items-center h-16">

                <!-- Logo and Brand -->
               <div class="flex items-center space-x-2 ml-4">

                    <div class="flex items-center justify-center w-10 h-10">
                        <img src="/static/images/Nusretler logo-Photoroom.png" alt="NUSRETLER LASTİK Logo" class="h-10 w-auto object-contain">
                    </div>
                    <span class="text-xl font-bold text-gray-900">NUSRETLER LASTİK</span>
                </div>
                
  <!-- Navigation -->
<div class="flex items-center justify-between h-16">

    <!-- SOL: Menü  -->
    <div class="flex items-center space-x-2">

        <div class="flex items-center space-x-1">
            <a href="/lastik-ara"
               class="nav-link px-4 py-2 text-sm font-medium text-gray-700 hover:text-blue-600 transition-colors {% if current_path == '/lastik-ara' or current_path == '/' %}active{% endif %}">
                Lastik Ara
            </a>
            <a href="/yeni-lastik"
               class="nav-link px-4 py-2 text-sm font-medium text-gray-700 hover:text-blue-600 transition-colors {% if current_path == '/yeni-lastik' %}active{% endif %}">
                Yeni Lastik Girişi
            </a>
            <a href="/musteriler"
               class="nav-link px-4 py-2 text-sm font-medium text-gray-700 hover:text-blue-600 transition-colors {% if current_path == '/musteriler' %}active{% endif %}">
                Müşteriler
            </a>
            <a href="/raflar"
               class="nav-link px-4 py-2 text-sm font-medium text-gray-700 hover:text-blue-600 transition-colors {% if current_path == '/raflar' %}active{% endif %}">
                Raflar
            </a>
            <a href="/lastik-etiketleri"
               class="nav-link px-4 py-2 text-sm font-medium text-gray-700 hover:text-blue-600 transition-colors {% if current_path == '/lastik-etiketleri' %}active{% endif %}">
                Lastik Etiketleri
            </a>
            <a href="/musteri-gecmisi"
               class="nav-link px-4 py-2 text-sm font-medium text-gray-700 hover:text-blue-600 transition-colors {% if current_path == '/musteri-gecmisi' %}active{% endif %}">
                Müşteri Geçmişi
            </a>
        </div>
    </div>

    <!-- SAĞ: Dark + Çıkış -->
    <div class="flex items-center space-x-2">
        <button id="dark-mode-toggle"
                type="button"
                class="px-3 py-2 text-sm font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-100 rounded-lg transition flex items-center gap-2">
            <span class="hidden sm:inline">Dark</span>
            ☀️
        </button>

        <a href="/logout"
           class="px-4 py-2 text-sm font-semibold text-white bg-red-600 hover:bg-red-700 rounded-lg transition whitespace-nowrap">
            Çıkış
        </a>
    </div>

</div>



                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-6 lg:px-8 py-8 flex-grow w-full">
        {% block content %}{% endblock %}
    </main>

    <!-- Footer -->
    <footer class="bg-white border-t border-gray-200 text-gray-500 py-4 mt-auto">
        <div class="max-w-7xl mx-auto px-6 text-center">
            <p class="text-sm">&copy; 2025 Lastik Depo Sistemi. Tüm hakları saklıdır.</p>
        </div>
    </footer>

    <script>
        (function() {
            const storageKey = 'theme';
            const body = document.body;
            const toggleBtn = document.getElementById('dark-mode-toggle');

            function applySavedTheme() {
                const saved = localStorage.getItem(storageKey);
                if (saved === 'dark') {
                    body.classList.add('dark-mode');
                } else {
                    body.classList.remove('dark-mode');
                }
                updateToggleState();
            }

            function updateToggleState() {
                if (!toggleBtn) return;
                const isDark = body.classList.contains('dark-mode');
                toggleBtn.setAttribute('aria-pressed', isDark ? 'true' : 'false');
                const sun = toggleBtn.querySelector('[data-icon="sun"]');
                const moon = toggleBtn.querySelector('[data-icon="moon"]');
                if (sun) sun.classList.toggle('hidden', isDark);
                if (moon) moon.classList.toggle('hidden', !isDark);
            }

            if (toggleBtn) {
                toggleBtn.addEventListener('click', () => {
                    const isDark = body.classList.toggle('dark-mode');
                    localStorage.setItem(storageKey, isDark ? 'dark' : 'light');
                    updateToggleState();
                });
            }

            applySavedTheme();
        })();
    </script>
    {% block scripts %}{% endblock %}
</body>
</html>
